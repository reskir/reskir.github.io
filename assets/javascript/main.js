(()=>{const e="dark",t="light",n={[t]:"☀️",[e]:"🌒"},o=document.createElement("button");o.id="theme-toggle";const m=document.querySelector(".switcher");if(!m)return;m.append(o),o.addEventListener("click",(()=>{const m=document.documentElement.getAttribute("data-theme")===e?t:e;document.documentElement.setAttribute("data-theme",m),window.localStorage.setItem("theme",m),o.innerHTML=n[m===e?t:e]}));const c=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?e:t,d=window.localStorage.getItem("theme")??c;window.localStorage.getItem("theme")||window.localStorage.setItem("theme",d),document.documentElement.setAttribute("data-theme",d),o.innerHTML=d===t?n[e]:n[t]})();